Debugging Production Error...
Creating link for REF-DEBUG-64c1a5f2...
Create Link Status: 200
Create Link Response: {"payment_url":"https://payment.vouchergalaxy.com/pay?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmRlcl9pZCI6Ijk5ODhlOWJmLTk2MTItNDMwNS1hMDJlLTQwM2EyYWMyNTdmMSIsInBheW1lbnRfaW50ZW50X2lkIjoicGlfM1N6TEp6S1NWU3BDWkt2TTFsSGVlclk5Iiwic2l0ZSI6Imh0dHBzOi8vZ29vZ2xlLmNvbS8iLCJleHAiOjE3NzA3NDcwNjAsImlhdCI6MTc3MDc0Njc2MCwianRpIjoiNzU2YTQ3NmNmMTQwMmY0MjJiODY5MGFjNjU4NDkzNzgifQ.149nv1-YPLqSn_C6HLJ9XIHjI37dectE6C4w1gWubzs&return_url=https://google.com/","order_id":"9988e9bf-9612-4305-a02e-403a2ac257f1","user_status":"existing","amount":"10.0","currency":"AED"}
Checking status for REF-DEBUG-64c1a5f2...
Status Check Code: 500
Status Check Response: {"detail":"(psycopg2.errors.UndefinedFunction) function json_extract_path_text(jsonb, unknown) does not exist\nLINE 3: WHERE json_extract_path_text(payments.payment_metadata, 'ref...\n              ^\nHINT:  No function matches the given name and argument types. You might need to add explicit type casts.\n\n[SQL: SELECT payments.id AS payments_id, payments.order_id AS payments_order_id, payments.stripe_payment_intent_id AS payments_stripe_payment_intent_id, payments.stripe_client_secret AS payments_stripe_client_secret, payments.amount AS payments_amount, payments.currency AS payments_currency, payments.status AS payments_status, payments.gateway AS payments_gateway, payments.payment_metadata AS payments_payment_metadata, payments.created_at AS payments_created_at, payments.updated_at AS payments_updated_at, payments.completed_at AS payments_completed_at \nFROM payments \nWHERE json_extract_path_text(payments.payment_metadata, %(json_extract_path_text_1)s) = %(json_extract_path_text_2)s \n LIMIT %(param_1)s]\n[parameters: {'json_extract_path_text_1': 'reference_id', 'json_extract_path_text_2': 'REF-DEBUG-64c1a5f2', 'param_1': 1}]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
