{
    "info": {
        "_postman_id": "coupon-app-collection",
        "name": "Coupon App API v2.3 (Admin + Stripe + Wallet)",
        "description": "Complete API collection for the Coupon E-commerce application with Admin Dashboard, Categories, Geography & Stripe Payments",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Auth",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"country_code\": \"+91\",\n    \"number\": \"9876543210\",\n    \"password\": \"mypassword123\",\n    \"full_name\": \"Test User\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "pm.environment.set('access_token', jsonData.access_token);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"country_code\": \"{{user_country_code}}\",\n    \"number\": \"{{user_phone}}\",\n    \"password\": \"{{user_password}}\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Categories",
            "item": [
                {
                    "name": "List All Categories",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/categories/?active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "List Categories with Coupon Counts",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/categories/with-counts?active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "with-counts"
                            ],
                            "query": [
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Category by Slug",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/categories/electronics-gadgets",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "electronics-gadgets"
                            ]
                        }
                    }
                },
                {
                    "name": "Browse Coupons in Category",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/categories/electronics-gadgets/coupons?limit=20&active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "electronics-gadgets",
                                "coupons"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Create Category (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Sports & Fitness\",\n    \"slug\": \"sports-fitness\",\n    \"description\": \"Sports equipment and fitness products\",\n    \"icon\": \"âš½\",\n    \"display_order\": 11\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/categories/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                ""
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Regions",
            "item": [
                {
                    "name": "List All Regions with Countries",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/regions/?active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "regions",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Region by Slug",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/regions/asia",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "regions",
                                "asia"
                            ]
                        }
                    }
                },
                {
                    "name": "Browse Coupons in Region",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/regions/middle-east/coupons?limit=20&active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "regions",
                                "middle-east",
                                "coupons"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Countries",
            "item": [
                {
                    "name": "List All Countries",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/countries/?active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "countries",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Country by Slug",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/countries/india",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "countries",
                                "india"
                            ]
                        }
                    }
                },
                {
                    "name": "Browse Coupons in Country",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/countries/united-arab-emirates/coupons?limit=20&active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "countries",
                                "united-arab-emirates",
                                "coupons"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Coupons",
            "item": [
                {
                    "name": "List All Coupons",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?skip=0&limit=100&active_only=false",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "skip",
                                    "value": "0"
                                },
                                {
                                    "key": "limit",
                                    "value": "100"
                                },
                                {
                                    "key": "active_only",
                                    "value": "false"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Search Coupons",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?search=amazon&active_only=true&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "search",
                                    "value": "amazon",
                                    "description": "Search by title, brand, or coupon code"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        },
                        "description": "Search coupons by title, brand name, or coupon code (case-insensitive)"
                    }
                },
                {
                    "name": "Filter Coupons by Category",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?category_id={{category_id}}&active_only=true&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "category_id",
                                    "value": "{{category_id}}"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter Coupons by Country",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?country_id={{country_id}}&active_only=true&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "country_id",
                                    "value": "{{country_id}}"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter Coupons by Availability Type",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?availability_type=local&active_only=true&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "availability_type",
                                    "value": "local",
                                    "description": "online, local, or both"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter Coupons (Multi-Filter)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?category_id={{category_id}}&country_id={{country_id}}&availability_type=local&active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "category_id",
                                    "value": "{{category_id}}"
                                },
                                {
                                    "key": "country_id",
                                    "value": "{{country_id}}"
                                },
                                {
                                    "key": "availability_type",
                                    "value": "local"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter Coupons (Featured & Discount)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/?is_featured=true&min_discount=20&active_only=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "is_featured",
                                    "value": "true",
                                    "description": "Filter by featured status"
                                },
                                {
                                    "key": "min_discount",
                                    "value": "20",
                                    "description": "Filter by minimum discount amount"
                                },
                                {
                                    "key": "active_only",
                                    "value": "true"
                                }
                            ]
                        },
                        "description": "Filter coupons by featured status and minimum discount amount"
                    }
                },
                {
                    "name": "Get Coupon by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Coupon with Category & Geography (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"PETLOVE50\",\n    \"redeem_code\": \"SECRET123\",\n    \"brand\": \"PetStore\",\n    \"title\": \"50% off pet food\",\n    \"description\": \"Amazing deal on all pet food\",\n    \"discount_type\": \"percentage\",\n    \"discount_amount\": 50.0,\n    \"price\": 2.99,\n    \"min_purchase\": 10.0,\n    \"max_uses\": 100,\n    \"expiration_date\": \"2026-12-31T23:59:59\",\n    \"stock\": 50,\n    \"is_featured\": true,\n    \"is_active\": true,\n    \"category_id\": \"{{category_id}}\",\n    \"availability_type\": \"local\",\n    \"country_ids\": [\"{{country_id}}\"],\n    \"picture_url\": \"https://chatbot-amzs3.s3.ap-southeast-2.amazonaws.com/coupons/pet.jpg\",\n    \"pricing\": {\n        \"INR\": {\"price\": 250, \"discount_amount\": 50},\n        \"AED\": {\"price\": 10, \"discount_amount\": 2}\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/coupons/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                ""
                            ]
                        }
                    }
                },
                {
                    "name": "Update Coupon (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"title\": \"Updated Title\",\n    \"price\": 14.99,\n    \"stock\": 100,\n    \"is_featured\": false,\n    \"category_id\": \"{{category_id}}\",\n    \"availability_type\": \"both\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Upload Coupon Image",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/upload/image",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "upload",
                                "image"
                            ]
                        }
                    }
                },
                {
                    "name": "Delete Coupon (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Claim Coupon (Free)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}/claim",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}",
                                "claim"
                            ]
                        }
                    }
                },
                {
                    "name": "Track Coupon View",
                    "request": {
                        "method": "POST",
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}/view?session_id=anon-123",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}",
                                "view"
                            ],
                            "query": [
                                {
                                    "key": "session_id",
                                    "value": "anon-123",
                                    "description": "Optional session ID for anonymous user tracking"
                                }
                            ]
                        },
                        "description": "Track when a user views coupon details. No auth required. Frontend should call this on coupon detail page load."
                    }
                }
            ]
        },
        {
            "name": "User Profile",
            "item": [
                {
                    "name": "Get My Profile",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/user/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "me"
                            ]
                        }
                    }
                },
                {
                    "name": "Update My Profile",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"full_name\": \"Afsal Basheer\",\n    \"email\": \"afsal@example.com\",\n    \"gender\": \"Male\",\n    \"country_of_residence\": \"India\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/user/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "me"
                            ]
                        }
                    }
                },
                {
                    "name": "Get My Claimed Coupons",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/user/coupons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "coupons"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Coupon Detail (Owned)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/user/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        },
                        "description": "Get detailed view of a specific coupon owned by the user. Returns full coupon info including redeem_code, brand, category, discount details, purchase date, expiry, and status."
                    }
                },
                {
                    "name": "Wallet Summary",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/user/wallet",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "wallet"
                            ]
                        },
                        "description": "Get wallet summary with counts: total_coupons, active, used, expired"
                    }
                },
                {
                    "name": "Wallet Coupons",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/user/wallet/coupons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "wallet",
                                "coupons"
                            ]
                        },
                        "description": "Get all coupons in wallet with purchased_date, expires_date, code, redeem_code, category, and status (active/expired)"
                    }
                }
            ]
        },
        {
            "name": "Cart",
            "item": [
                {
                    "name": "Add to Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"coupon_id\": \"{{coupon_id}}\",\n    \"quantity\": 1\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/cart/add",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "cart",
                                "add"
                            ]
                        }
                    }
                },
                {
                    "name": "View Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/cart/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "cart",
                                ""
                            ]
                        }
                    }
                },
                {
                    "name": "Remove from Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "url": {
                            "raw": "{{base_url}}/cart/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "cart",
                                "{{coupon_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Clear Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "url": {
                            "raw": "{{base_url}}/cart/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "cart",
                                ""
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Orders",
            "item": [
                {
                    "name": "Checkout",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"payment_method\": \"mock\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/orders/checkout",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                "checkout"
                            ]
                        }
                    }
                },
                {
                    "name": "Get My Orders",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/orders/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                ""
                            ]
                        },
                        "description": "Get all user orders. Each order item now includes full coupon details: code, redeem_code, title, description, category, is_active, expiration_date. Also includes flattened 'coupon_title', 'coupon_description', and 'coupon_type' for convenience."
                    }
                },
                {
                    "name": "Get Order by ID",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/orders/{{order_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                "{{order_id}}"
                            ]
                        },
                        "description": "Get a specific order with enriched coupon details per item: code, redeem_code, title, description, category, is_active, expiration_date. Also includes flattened 'coupon_title', 'coupon_description', and 'coupon_type' for convenience."
                    }
                },
                {
                    "name": "Download Invoice",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/orders/{{order_id}}/invoice",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "orders",
                                "{{order_id}}",
                                "invoice"
                            ]
                        },
                        "description": "Download PDF invoice for the order"
                    }
                }
            ]
        },
        {
            "name": "Health",
            "item": [
                {
                    "name": "Health Check (Simple)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                ""
                            ]
                        }
                    }
                },
                {
                    "name": "Health Check (Detailed)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "health"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Payments",
            "item": [
                {
                    "name": "Initialize Payment",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"order_id\": \"{{order_id}}\",\n    \"return_url\": \"https://payment.vouchergalaxy.com/success\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/payments/init",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "init"
                            ]
                        }
                    }
                },
                {
                    "name": "Validate Token",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"token\": \"PUT_TOKEN_HERE\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/payments/validate-token",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "validate-token"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Payment Status",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/payments/status/{{order_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "status",
                                "{{order_id}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Mark Token Used",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"token\": \"PUT_TOKEN_HERE\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/payments/mark-token-used",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "payments",
                                "mark-token-used"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Webhooks",
            "item": [
                {
                    "name": "Stripe Webhook",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Stripe-Signature",
                                "value": "{{stripe_signature}}",
                                "description": "Stripe webhook signature for verification"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"id\": \"evt_test\",\n    \"type\": \"payment_intent.succeeded\",\n    \"data\": {\n        \"object\": {\n            \"id\": \"pi_test\",\n            \"status\": \"succeeded\"\n        }\n    }\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/webhooks/stripe",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "webhooks",
                                "stripe"
                            ]
                        },
                        "description": "Stripe sends this webhook when payment events occur. Do not call directly - Stripe handles this."
                    }
                }
            ]
        },
        {
            "name": "Admin",
            "description": "Admin-only endpoints for dashboard, user management, and order management",
            "item": [
                {
                    "name": "Get Dashboard Stats",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/dashboard",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "dashboard"
                            ]
                        },
                        "description": "Returns aggregated dashboard stats: revenue, orders, users, coupons, top performers, top_category, and recent orders with coupon info"
                    }
                },
                {
                    "name": "List All Users",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/users?skip=0&limit=20&active_only=false&search=",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "skip",
                                    "value": "0"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "active_only",
                                    "value": "false"
                                },
                                {
                                    "key": "search",
                                    "value": "",
                                    "description": "Search by name or phone number"
                                }
                            ]
                        },
                        "description": "Returns paginated list of all users with order stats (total_orders, total_spent)"
                    }
                },
                {
                    "name": "Get User by ID",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/users/{{user_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{user_id}}"
                            ]
                        },
                        "description": "Get specific user details with aggregated order stats"
                    }
                },
                {
                    "name": "Toggle User Status",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PATCH",
                        "url": {
                            "raw": "{{base_url}}/admin/users/{{user_id}}/status?is_active=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{user_id}}",
                                "status"
                            ],
                            "query": [
                                {
                                    "key": "is_active",
                                    "value": "true",
                                    "description": "Set to true to activate, false to deactivate"
                                }
                            ]
                        },
                        "description": "Activate or deactivate a user account"
                    }
                },
                {
                    "name": "Promote User to Admin",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "url": {
                            "raw": "{{base_url}}/admin/users/{{user_id}}/promote",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{user_id}}",
                                "promote"
                            ]
                        },
                        "description": "Promote a standard user to ADMIN role"
                    }
                },
                {
                    "name": "Demote Admin to User",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "url": {
                            "raw": "{{base_url}}/admin/users/{{user_id}}/demote",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "{{user_id}}",
                                "demote"
                            ]
                        },
                        "description": "Demote an ADMIN down to USER role"
                    }
                },
                {
                    "name": "List All Orders",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/orders?skip=0&limit=20",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "skip",
                                    "value": "0"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "status",
                                    "value": "paid",
                                    "disabled": true,
                                    "description": "Filter: pending, paid, failed, cancelled"
                                },
                                {
                                    "key": "user_id",
                                    "value": "{{user_id}}",
                                    "disabled": true,
                                    "description": "Filter by specific user"
                                },
                                {
                                    "key": "search",
                                    "value": "",
                                    "disabled": true,
                                    "description": "Search by order ID, user phone, or name"
                                },
                                {
                                    "key": "date_from",
                                    "value": "2026-01-01",
                                    "disabled": true,
                                    "description": "Filter from date (ISO format)"
                                },
                                {
                                    "key": "date_to",
                                    "value": "2026-12-31",
                                    "disabled": true,
                                    "description": "Filter to date (ISO format)"
                                }
                            ]
                        },
                        "description": "Returns paginated list of all orders with user info and statistics (total_revenue, completed_count, pending_count, failed_count, cancelled_count)"
                    }
                },
                {
                    "name": "Get Order by ID",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/orders/{{order_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "orders",
                                "{{order_id}}"
                            ]
                        },
                        "description": "Get specific order details (admin can view any order)"
                    }
                },
                {
                    "name": "Get All Coupons Analytics",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/coupons?skip=0&limit=20&sort_by=views",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "coupons"
                            ],
                            "query": [
                                {
                                    "key": "skip",
                                    "value": "0"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "sort_by",
                                    "value": "views",
                                    "description": "Sort by: views, redemptions, or rate"
                                }
                            ]
                        },
                        "description": "Returns analytics for all coupons including views, redemptions, and rates"
                    }
                },
                {
                    "name": "Get Coupon Analytics by ID",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        },
                        "description": "Returns detailed analytics for a specific coupon"
                    }
                },
                {
                    "name": "Quick Stats (Today)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/quick-stats",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "quick-stats"
                            ]
                        },
                        "description": "Returns today's views, redemptions, conversion rate + overall stats"
                    }
                },
                {
                    "name": "Trends (Chart Data)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/trends?days=30",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "trends"
                            ],
                            "query": [
                                {
                                    "key": "days",
                                    "value": "30",
                                    "description": "Number of days (7-90)"
                                }
                            ]
                        },
                        "description": "Returns daily views and redemptions for chart plotting"
                    }
                },
                {
                    "name": "Category Performance",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "categories"
                            ]
                        },
                        "description": "Returns views, redemptions, revenue grouped by category"
                    }
                },
                {
                    "name": "Monthly Stats",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/admin/analytics/monthly?months=12",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "analytics",
                                "monthly"
                            ],
                            "query": [
                                {
                                    "key": "months",
                                    "value": "12",
                                    "description": "Number of months (1-24)"
                                }
                            ]
                        },
                        "description": "Returns monthly orders and revenue breakdown"
                    }
                }
            ]
        },
        {
            "name": "External Integration",
            "item": [
                {
                    "name": "Generate Payment Link",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// External API HMAC-SHA256 Signing Script",
                                    "const sdk = require('postman-collection');",
                                    "const crypto = require('crypto-js');",
                                    "",
                                    "const apiKey = pm.collectionVariables.get('external_api_key');",
                                    "const body = pm.request.body.raw;",
                                    "",
                                    "if (apiKey && body) {",
                                    "    // Generate HMAC-SHA256 signature",
                                    "    const signature = crypto.HmacSHA256(body, apiKey).toString();",
                                    "    pm.request.headers.add({",
                                    "        key: 'X-Signature',",
                                    "        value: signature",
                                    "    });",
                                    "    console.log('X-Signature Generated:', signature);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"phone_number\": \"+971501234567\",\n    \"amount\": 150.0,\n    \"currency\": \"AED\",\n    \"reference_id\": \"REF-{{$guid}}\",\n    \"return_url\": \"https://omillionaire.com\",\n    \"webhook_url\": \"https://n8n.thegreencertificate.com/webhook/external-demo\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/external/payment-link",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "external",
                                "payment-link"
                            ]
                        },
                        "description": "Generates a signed payment link for external partners. Signature is automatically generated in the Pre-request script.\n\n**Supported Currencies:** AED, SAR, QAR, USD, INR, EUR.\n**Note:** OMR is NOT supported.\n\n**Webhook:** Payload returns the actual transaction currency."
                    }
                },
                {
                    "name": "Check Payment Status",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// External API HMAC-SHA256 Signing Script",
                                    "const sdk = require('postman-collection');",
                                    "const crypto = require('crypto-js');",
                                    "",
                                    "const apiKey = pm.collectionVariables.get('external_api_key');",
                                    "const body = pm.request.body.raw;",
                                    "",
                                    "if (apiKey && body) {",
                                    "    // Generate HMAC-SHA256 signature",
                                    "    const signature = crypto.HmacSHA256(body, apiKey).toString();",
                                    "    pm.request.headers.add({",
                                    "        key: 'X-Signature',",
                                    "        value: signature",
                                    "    });",
                                    "    console.log('X-Signature Generated:', signature);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reference_id\": \"REF-123456789\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/v1/external/payment-status",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "external",
                                "payment-status"
                            ]
                        },
                        "description": "Check the status of an external payment using its reference ID. Requires valid HMAC signature."
                    }
                }
            ]
        },
        {
            "name": "Real-Time Features (Redis)",
            "item": [
                {
                    "name": "Trending Coupons (Last 24h)",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/trending?limit=10&period=24h",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "trending"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "period",
                                    "value": "24h"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Featured Coupons",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/featured?limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "featured"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Recently Viewed",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/recently-viewed?session_id=anon-123",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "recently-viewed"
                            ],
                            "query": [
                                {
                                    "key": "session_id",
                                    "value": "anon-123"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Get Stock",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/coupons/{{coupon_id}}/stock",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "coupons",
                                "{{coupon_id}}",
                                "stock"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Packages",
            "description": "Package CRUD endpoints. Packages are curated bundles of coupons. Admin-only for create/update/delete. Public for list and get.",
            "item": [
                {
                    "name": "Create Package (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Summer Travel Bundle\",\n    \"slug\": \"summer-travel-bundle\",\n    \"description\": \"Best deals for your summer vacation\",\n    \"picture_url\": \"https://example.com/package-image.jpg\",\n    \"category_id\": \"{{category_id}}\",\n    \"is_active\": true,\n    \"is_featured\": false,\n    \"coupon_ids\": []\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/packages/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                ""
                            ]
                        },
                        "description": "Create a new coupon package. Admin only.\n\n**coupon_ids**: Optional list of coupon UUIDs to include. Coupons will be marked as `is_package_coupon=true`.\n\n**slug**: Must be lowercase letters, numbers, and hyphens only."
                    }
                },
                {
                    "name": "List Packages",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/packages/?skip=0&limit=100",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                ""
                            ],
                            "query": [
                                {
                                    "key": "skip",
                                    "value": "0"
                                },
                                {
                                    "key": "limit",
                                    "value": "100"
                                },
                                {
                                    "key": "category_id",
                                    "value": "{{category_id}}",
                                    "disabled": true,
                                    "description": "Filter by category UUID"
                                },
                                {
                                    "key": "is_active",
                                    "value": "true",
                                    "disabled": true,
                                    "description": "Filter by active status"
                                },
                                {
                                    "key": "is_featured",
                                    "value": "true",
                                    "disabled": true,
                                    "description": "Filter by featured status"
                                }
                            ]
                        },
                        "description": "List all packages with optional filters. Returns lightweight response with coupon_count instead of full coupon details. Public endpoint."
                    }
                },
                {
                    "name": "Get Package by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}"
                            ]
                        },
                        "description": "Get full package details including nested coupons and computed pricing. Public endpoint."
                    }
                },
                {
                    "name": "Get Package Coupons",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}/coupons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}",
                                "coupons"
                            ]
                        },
                        "description": "Get all coupons belonging to a package. Returns full CouponPublicResponse for each coupon."
                    }
                },
                {
                    "name": "Update Package (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Summer Travel Bundle - Updated\",\n    \"description\": \"Updated description\",\n    \"is_featured\": true\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}"
                            ]
                        },
                        "description": "Update a package. Admin only. All fields are optional.\n\n**coupon_ids**: If provided, REPLACES the entire coupon list. Old coupons are removed, new ones are added. The `is_package_coupon` flag is managed automatically."
                    }
                },
                {
                    "name": "Delete Package (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}"
                            ]
                        },
                        "description": "Delete a package. Admin only. Coupons inside the package are NOT deleted but their `is_package_coupon` flag is reset if they don't belong to any other package."
                    }
                },
                {
                    "name": "Add Coupons to Package (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "[\n    \"{{coupon_id}}\"\n]"
                        },
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}/coupons",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}",
                                "coupons"
                            ]
                        },
                        "description": "Add one or more coupons to an existing package. Duplicates are silently ignored. Coupons are marked as `is_package_coupon=true`."
                    }
                },
                {
                    "name": "Remove Coupon from Package (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{access_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "url": {
                            "raw": "{{base_url}}/packages/{{package_id}}/coupons/{{coupon_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "packages",
                                "{{package_id}}",
                                "coupons",
                                "{{coupon_id}}"
                            ]
                        },
                        "description": "Remove a single coupon from a package. The coupon is NOT deleted, only the association. If the coupon no longer belongs to any package, `is_package_coupon` is reset to false."
                    }
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "https://api.vouchergalaxy.com",
            "type": "string"
        },
        {
            "key": "access_token",
            "value": "",
            "type": "string"
        },
        {
            "key": "coupon_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "category_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "region_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "country_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "order_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "user_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "external_api_key",
            "value": "YOUR_EXTERNAL_API_KEY",
            "type": "string"
        },
        {
            "key": "package_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "user_country_code",
            "value": "+91",
            "type": "string"
        },
        {
            "key": "user_phone",
            "value": "7907975711",
            "type": "string"
        },
        {
            "key": "user_password",
            "value": "afsal@123",
            "type": "string"
        }
    ]
}